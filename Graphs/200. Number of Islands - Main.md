---
ParentTask:
  - "[[graphs]]"
---

# LeetCode
[200. Number of Islands](https://leetcode.com/problems/number-of-islands/)

# Concept
- 檢查每個 grid 是不是 island -> 是的話 traverse through whole island + mark traversed grid as '#'

# Answer：複習1st
```Cpp
#define CHAR_LAND  ('1')
#define CHAR_TRAVERSED  ('#')
class Solution {
private:
    void markIslandTraversed(auto &grid, int r, int c) {
        if((r < 0) || (r >= grid.size())) return;
        if((c < 0) || (c >= grid[r].size())) return;
        if(grid[r][c] != CHAR_LAND) return;

        grid[r][c] = CHAR_TRAVERSED;

        markIslandTraversed(grid, r+1, c);
        markIslandTraversed(grid, r-1, c);
        markIslandTraversed(grid, r, c+1);
        markIslandTraversed(grid, r, c-1);

        return;
    }
public:
    int numIslands(vector<vector<char>>& grid) {
        int IslandCnt = 0;
        for(int r = 0; r < grid.size(); r++) {
            for(int c = 0; c < grid[r].size(); c++) {
                // if the grid not the island
                if(grid[r][c] != CHAR_LAND) continue;

                // add island cnt
                IslandCnt += 1;

                // traverse throught the whole island and mark grid as traversed
                markIslandTraversed(grid, r, c);
            }
        }

        return IslandCnt;
    }
};
``` 

# Answer：複習 2nd - 模板化寫法
```Cpp
#define ISLAND_MARK ('#')
class Solution {
private:
    bool travAndMarkIsland(auto &grid, int row, int col) {
        if((row < 0) || (row >= grid.size())) return false;
        if((col < 0) || (col >= grid[row].size())) return false;

        if(grid[row][col] == '0') return false;
        if(grid[row][col] == '#') return false;
        
        grid[row][col] = '#';
        int dir[4][2] = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};
        for(int i = 0; i < 4; i++) {
            travAndMarkIsland(grid, row + dir[i][0], col + dir[i][1]);
        }
        return true;
    }
public:
    int numIslands(vector<vector<char>>& grid) {
        int islandNum = 0;
        for(int row = 0; row < grid.size(); row++) {
            for(int col = 0; col < grid[row].size(); col++) {
                if(!travAndMarkIsland(grid, row, col)) continue;
                islandNum++;
            }
        }
        return islandNum;
    }
};
```