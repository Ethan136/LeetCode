# LeetCode
[210. Course Schedule II](https://leetcode.com/problems/course-schedule-ii/)

# Concept
和 [[207. Course Schedule - Main]] 同一個解法

# Answer
```Cpp
class Solution {
public:
    vector<int> findOrder(int numCourses, vector<vector<int>>& prerequisites) {
        // prerequisites map
        /*
        {
            Course 0 ->[1, 3, 4, 6]
            Course 1 ->[2, 3, 5, 7]
            Course 2 ->[4, 7]
            Course 3 ->[4, 8]
            Course 4 ->[5]
            Course 5 ->[6]
            Course 6 ->[x]
            Course 7 ->[8]
            Course 8 ->[6]
        }
        */
        vector<unordered_set<int>> courseToPrequisitList(numCourses);
        vector<vector<int>> preqToRequiringCourseList(numCourses);
        for(auto &preq : prerequisites) {
            courseToPrequisitList[ preq[0] ].insert( preq[1] );
            preqToRequiringCourseList[ preq[1] ].push_back( preq[0] );
        }

        vector<int> enrollCourseSeq(numCourses);
        int enrolledNum = 0;

        // firstly enroll all courses need no prerequisits
        for(int i = 0; i < courseToPrequisitList.size(); i++) {
            if(courseToPrequisitList[i].size() != 0) continue;
            enrollCourseSeq[ enrolledNum++ ] = i;
        }

        // update the course requirement & enroll new courses without prerequisits
        for(int i = 0; i < enrolledNum; i++) {
            // pop one course needs no prequisit to enroll
            int course = enrollCourseSeq[i];

            // update course conditions
            for(auto reqCourse : preqToRequiringCourseList[course]) {
                // take out the prerequisit of the enrolled course
                courseToPrequisitList[reqCourse].erase( course );

                // if all the prerequisits of the course are all enrolled -> add to pending
                if(courseToPrequisitList[reqCourse].size() == 0) {
                    enrollCourseSeq[ enrolledNum++ ] = reqCourse;
                }
            }
        }

        if(enrolledNum == numCourses) return enrollCourseSeq;
        return {};
    }
};
```