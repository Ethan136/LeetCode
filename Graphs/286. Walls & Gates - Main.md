---
ParentTask:
  - "[[graphs]]"
---

# LeetCode
Locked: [286. Walls & Gates](https://leetcode.com/problems/walls-gates/)
NeetCode: https://neetcode.io/problems/islands-and-treasure?list=neetcode150

# Concept
- **從 treasure 所在的位置開始 traverse**

# Answer
```Cpp
#define NUM_LAND    (INT_MAX)
#define NUM_TREASURE    (0)
#define NUM_WALL        (-1)
#define NEXT_DIR_NUM (4)
int const NEXT_DIR[ NEXT_DIR_NUM ][2] = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};
class Solution {
private:
    void traverseToMarkLandToTreasure(vector<vector<int>> &grid, int r, int c, int stepNum) {
	    // check position valid
        if((r < 0) || (r >= grid.size())) return;
        if((c < 0) || (c >= grid[r].size())) return;

		// if position is wall
        if(grid[r][c] == NUM_WALL) return;

		// if position already marked to closer distance of other treasure
        if(grid[r][c] < stepNum) return;

		// record the step number on the land
        grid[r][c] = stepNum;

		// traverse to next position
        for(int i = 0; i < NEXT_DIR_NUM; i++) {
            int r2 = r + NEXT_DIR[i][0];
            int c2 = c + NEXT_DIR[i][1];

            traverseToMarkLandToTreasure(grid, r2, c2, stepNum+1);
        }
    }
public:
    void islandsAndTreasure(vector<vector<int>>& grid) {
        for(int r = 0; r < grid.size(); r++) {
            for(int c = 0; c < grid[r].size(); c++) {
	            // traverse from treasure point
                if(grid[r][c] != NUM_TREASURE) continue;
                traverseToMarkLandToTreasure(grid, r, c, 0);
            }
        }
    }
};

``` 