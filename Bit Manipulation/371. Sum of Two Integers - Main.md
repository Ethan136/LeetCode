---
ParentTask:
  - "[[bit_manipulation]]"
---

# LeetCode
[371. Sum of Two Integers](https://leetcode.com/problems/sum-of-two-integers/)

# Answer：檢查兩個數字每個 bit
## V1：邏輯判斷 bit 進位情況 + 迴圈中把 a / b 逐漸 bit shift right -> 比較不直覺
```Cpp

class Solution {
public:

    int getSum(int a, int b) {

		int nCarryBit = 0;
		int nResult = 0;
		for( int nBit = 0; nBit < 32; nBit++ ) {

			bool aBitOn = a & 1;
			bool bBitOn = b & 1;
			
			// 0 0
			if( ( aBitOn == false ) && ( bBitOn == false ) ) {
				nResult |= ( nCarryBit << nBit );
				nCarryBit = 0;
			}

			// 1 1
			else if( ( aBitOn == true ) && ( bBitOn == true ) ) {
				nResult |= ( nCarryBit << nBit );
				nCarryBit = 1;
			}

			// 1 0  or 0 1 -> check carry bit
			else {
				if( nCarryBit == 0 ) nResult |= ( 1 << nBit );
				else nCarryBit == 1;
			}


			a >>= 1;
			b >>= 1;
		}

		return nResult;
    }
};
```

## V2：把兩個數字的 bit 當作 10 進位原理，來計算 2 進位結果 -> 比較直覺簡單
```Cpp
#define BIT(N) (1 << (N))
class Solution {
public:
    int getSum(int a, int b) {
        int result = 0;

        for(int i = 0, bit_carry = 0; i < 32; i++) {

            int bit_a = (a & BIT(i)) ? (1) : (0);
            int bit_b = (b & BIT(i)) ? (1) : (0);

            int bit_sum = bit_a + bit_b + bit_carry;
            int cur_bit = bit_sum % 2;

            if(cur_bit) result |= BIT(i);
            bit_carry = bit_sum / 2;
        }

        return result;
    }
};
```