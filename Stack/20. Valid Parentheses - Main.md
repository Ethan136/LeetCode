---
ParentTask:
  - "[[stack]]"
---

# LeetCode
[20. Valid Parentheses](https://leetcode.com/problems/valid-parentheses/)

# Answer - use stack
## V1
```Cpp
class Solution {
public:
    bool isValid(string s) {
        stack<char> checkStack;
        for(auto char_s : s) {
            switch (char_s) {
            case '[':
            case '(':
            case '{':
                checkStack.push(char_s);
                break;

            case ']':
                if(checkStack.empty() || checkStack.top() != '[') return false;
                checkStack.pop(); break;

            case ')':
                if(checkStack.empty() || checkStack.top() != '(') return false;
                checkStack.pop(); break;

            case '}':
                if(checkStack.empty() || checkStack.top() != '{') return false;
                checkStack.pop(); break;

            default:
                return false;
            }
        }
        return checkStack.empty();
    }
};
```


## V2 - Review 1st
```Cpp
class Solution {
public:
    bool isValid(string s) {
        stack<char> charStack;
        for(char c : s) {
            char stackTopChar = charStack.size() ? charStack.top() : '#';
            switch (c) {

            case '(':
            case '{':
            case '[':
                charStack.push(c);
                break;

            case ')':
                if(stackTopChar != '(') return false;
                charStack.pop();
                break;

            case '}':
                if(stackTopChar != '{') return false;
                charStack.pop();
                break;

            case ']':
                if(stackTopChar != '[') return false;
                charStack.pop();
                break;
            }
        }
        return charStack.empty();
    }
};
```

## V3 - Review 2nd (練習用模板來寫)
```Cpp
class Solution {
public:
    bool isValid(string s) {
	    stack<char> pendingChar;
	    for(char c : s) {
		    // check with pending char
		    switch (c) {
		    case ')':
			    if(!pendingChar.size()) return false;
			    if(pendingChar.top() != '(') return false;
			    pendingChar.pop();
			    break;
		    case ']':
			    if(!pendingChar.size()) return false;
			    if(pendingChar.top() != '[') return false;
			    pendingChar.pop();
			    break;
		    case '}':
			    if(!pendingChar.size()) return false;
			    if(pendingChar.top() != '{') return false;
			    pendingChar.pop();
			    break;
		    }

			// check if need to put in pending char
			switch (c) {
		    case '(':
		    case '[':
		    case '{':
			    pendingChar.push(c);
			    break;
		    }
	    }
	    return pendingChar.empty();
    }
};
```

# Answer - Greedy

## V1 - Review 2nd
類似 [[678. Valid Parenthesis String - Main]] 的作法
- 一個變數記錄 left num
	- { 的時候 ++
	- } 的時候 --
- left num < 0 直接 return false
- 最後 left num = 0 才 return true
```Cpp
class Solution {
public:
    bool isValid(string s) {
	    int leftBracketCnt1 = 0;
	    int leftBracketCnt2 = 0;
	    int leftBracketCnt2 = 0;
	    for(char c : s) {
		    switch (c) {
			case '{'
				leftBracketCnt1++;
				break;
			case '}'
				leftBracketCnt1--;
				if(leftBracketCnt1 < 0) return false;
				break;

			case '['
				leftBracketCnt2++;
				break;
			case ']'
				leftBracketCnt2--
				if(leftBracketCnt2 < 0) return false;
				break;
			
			case '('
				leftBracketCnt3++;
				break;
			case ')'
				leftBracketCnt3--;
				if(leftBracketCnt3 < 0) return false;
				break;
		    }
	    }

		return (leftBracketCnt1 & leftBracketCnt2 & leftBracketCnt3) == 0;
    }
};
```